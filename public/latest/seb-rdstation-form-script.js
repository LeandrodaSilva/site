import{c as e}from"./env.js";import{v as t}from"./31b20069.js";function n(e,t){t((t=>{const n=t.querySelector("input[name=cf_ptr_unidade]"),o=t.querySelector("input[name=cf_ptr_agenda]"),l=t.querySelector("input[name=cf_ptr_horaagenda]"),i=t.querySelector("input[name=cf_ptr_dataagenda]");let a;if(o&&n){o.value="";const r=s=>{(async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/unit/${e.unitCrm}/schedule/available?code=${e.key}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()),alert)})({unitCrm:s,env:e.env,key:e.apiKey}).then((d=>{var u,c,v,_,p;null===(u=t.querySelector("seb-crm-schedule-datepicker"))||void 0===u||u.remove(),o.value="";const f=t.querySelector(`label[for="${o.id}"]`);f&&(f.style.display="none"),o.insertAdjacentHTML("afterend",`\n              <seb-crm-schedule-datepicker\n                type="${null!==(_=null===(v=null===(c=e.fields)||void 0===c?void 0:c.cf_ptr_agenda)||void 0===v?void 0:v.styledType)&&void 0!==_?_:""}"\n                style="--lit-datepicker-cell-selected: ${e.primaryColor}"\n                label="${null==f?void 0:f.textContent}"\n                schedule='${JSON.stringify(d)}'\n              />\n            `),o.style.display="none",o.style.opacity="0",o.style.width="0",o.style.height="0";const m=t.querySelector('seb-textfield[name="cf_ptr_horaagenda"]'),y=t.querySelector('seb-textfield[name="cf_ptr_dataagenda"]');y&&m&&(m.style.display="none",y.style.display="none"),null===(p=t.querySelector("seb-loading"))||void 0===p||p.remove();const h=t.querySelector("seb-crm-schedule-datepicker");h&&i&&h.addEventListener("seb-crm-schedule-id",(({detail:{value:{name:e}}})=>{const[t]=String(e).split(" ");i.value=t}));const b=async(n,o,d,u)=>{t.appendChild(document.createElement("seb-loading"));const c={env:e.env,unitCrm:o,scheduleUId:n,preAgendamentoId:d,code:e.apiKey};await async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/unit/${e.unitCrm}/schedule/${e.scheduleUId}/userPreScheduling/${e.preAgendamentoId}/?code=${e.code}`,{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error("Erro ao realizar pré-agendamento");return e.json()}))}(c).then((e=>{var n,o,d;if(e.errors)alert("Ops! Esse horário já está ocupado. Que tal escolher outro?"),r(s),t.style.scrollMarginTop="200px",t.scrollIntoView({behavior:"smooth",block:"start"});else{a&&clearTimeout(a);const c=(null!==(o=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.expiresInMilliseconds)&&void 0!==o?o:36e4)+3e3;a=setTimeout((()=>{alert('Parece que o tempo para confirmar o horário expirou. Por favor, selecione o horário novamente."'),r(s),t.style.scrollMarginTop="200px",t.scrollIntoView({behavior:"smooth",block:"start"})}),c),l&&i&&(l.value=u,y&&m&&(m.value=l.value,m.style.display="",m.style.cursor="pointer",m.addEventListener("click",(()=>{t.appendChild(document.createElement("seb-loading")),r(s),t.style.scrollMarginTop="200px",t.scrollIntoView({behavior:"smooth",block:"start"})})),y.value=i.value,y.style.display="",y.style.cursor="pointer",y.addEventListener("click",(()=>{t.appendChild(document.createElement("seb-loading")),r(s),t.style.scrollMarginTop="200px",t.scrollIntoView({behavior:"smooth",block:"start"})})))),null===(d=t.querySelector("seb-crm-schedule-datepicker"))||void 0===d||d.remove(),t.style.scrollMarginTop="200px",t.scrollIntoView({behavior:"smooth",block:"start"})}})).finally((()=>{var e;null===(e=t.querySelector("seb-loading"))||void 0===e||e.remove()}))};if(h){const e=t.querySelector("input[name=cf_id_pre_agendamento]");h.addEventListener("seb-crm-schedule-id",(t=>{o.value=null==t?void 0:t.detail.value.schedulerId,n.value&&(null==e?void 0:e.value)&&b(t.detail.value.schedulerId,n.value,e.value,t.detail.value.time)}))}}))},s=e.fields?e.fields.cf_ptr_unidade:null;s&&s.value&&""!==s.value&&r(s.value),n.value&&r(n.value),t.style.scrollMarginTop="200px",t.scrollIntoView({behavior:"smooth",block:"start"}),n.addEventListener("change",(e=>{var t;r(null===(t=e.target)||void 0===t?void 0:t.value)}))}}))}function o(e,t,n,o){t((t=>{const l=t.querySelector("input[name=cf_ptr_evento]"),i=t.querySelector("input[name=cf_ptr_unidade]");if(l&&i){const a=t.querySelector(`label[for="${l.id}"]`);l.insertAdjacentHTML("afterend",`\n        <seb-autocomplete\n          id="select_field_event"\n          style="--seb-primary-color: ${e.primaryColor||"black"}"\n          class="field"\n          select="true"\n          name="${null==l?void 0:l.name}"\n          required="${l.required}"\n          label="${null==a?void 0:a.textContent}"\n          options='[]'\n          disabled="true"\n          noResultsText="Nenhum resultado encontrado"\n          value=""\n        />\n      `);const r=t.querySelector('seb-autocomplete[id="select_field_event"]');if(!r)return;const s=null==l?void 0:l.parentNode;s&&l&&s.insertBefore(l,r),l.style.opacity="0",l.style.width="0",l.style.height="0",l.style.position="absolute",l.style.top="50px",l.style.left="50%",a&&(a.style.height="0",a.style.width="0",a.style.display="none");const d=async(i,a)=>{var s;const d=t.querySelector('seb-autocomplete[id="select_field_event"]');if(d)if(""!==i&&""!==a){if(r){r.addEventListener("focus",(()=>{null==r||r.focus()})),r.addEventListener("input",(()=>{var e,t;if(r&&r.options){const n=null!==(t=null===(e=Array.from(r.options).find((e=>e.value===r.value)))||void 0===e?void 0:e.value)&&void 0!==t?t:"";l&&(l.value=n)}})),r.addEventListener("change",(()=>{l&&(l.value=r.value)})),d.disabled=!0,d.innerHTML="";const u=document.createElement("option");u.textContent="Aguarde",u.value="",d.appendChild(u),t.appendChild(document.createElement("seb-loading"));const c={unitCrm:i,schoolYear:a,env:e.env,key:e.apiKey};await async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/unit/${e.unitCrm}/school-year/${e.schoolYear}/events/available?code=${e.key}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()),alert)}(c).then((t=>{var a,r,s,u,c,v,_;d.setAttribute("options","[]");const p=null===(r=null===(a=e.fields)||void 0===a?void 0:a.cf_ptr_evento)||void 0===r?void 0:r.filterTextByUnit,f=null===(s=(p?Object.keys(p).map((e=>({value:e,text:p[e]||""}))):[]).find((e=>e.value===i)))||void 0===s?void 0:s.text,m=null!=f?f:null===(c=null===(u=e.fields)||void 0===u?void 0:u.cf_ptr_evento)||void 0===c?void 0:c.filterText,y=void 0!==m&&""!==m?t.data.filter((e=>e.eventName.toLowerCase().includes(m.toLowerCase()))):t.data;if(0===y.length){const t=d.querySelector('option[value=""]');if(t){t.textContent="Não foram encontrados eventos";const o=null===(_=null===(v=null==e?void 0:e.fields)||void 0===v?void 0:v.cf_ptr_evento)||void 0===_?void 0:_.redirectNoEvents;n(o,"No momento, não temos concursos de bolsas em andamento. Acompanhe esta página para saber das próximas datas ou, se preferir, agende uma visita e venha conhecer nossa unidade.","cf_ptr_unidade")}}else y.forEach((e=>{const t=d.querySelector('option[value=""]');if(t){t.textContent="Selecione",t.value="";const n=Array.from(d.options).map((e=>({text:e.text,value:e.value})));n.push({text:e.eventName,value:e.eventId}),d.setAttribute("options",JSON.stringify(n)),d.disabled=!1,l.value="",d.value="",d._handleClear.call(d)}o()}))})),null===(s=t.querySelector("seb-loading"))||void 0===s||s.remove()}}else if(d){d.disabled=!0,d.innerHTML="";const e=document.createElement("option");e.textContent="Nenhuma unidade selecionada ou ano letivo informado",e.value="",d.appendChild(e)}};i&&i.addEventListener("change",(async n=>{var o,i,a,r,s,u,c,v,_;const p=null===(i=null===(o=e.fields)||void 0===o?void 0:o.cf_ptr_unidade)||void 0===i?void 0:i.redirectTo,f=n.target,m=p?Object.keys(p).map((e=>({value:e,text:p[e]||""}))):[],y=m.length>0&&(null===(a=m.find((e=>e.value===f.value)))||void 0===a?void 0:a.text),h=null===(s=null===(r=e.fields)||void 0===r?void 0:r.cf_ptr_ano)||void 0===s?void 0:s.value,b=null!==(_=null!==(c=null===(u=t.querySelector("input[name=cf_ptr_ano]"))||void 0===u?void 0:u.value)&&void 0!==c?c:null===(v=t.querySelector("seb-autocomplete[name=cf_ptr_ano]"))||void 0===v?void 0:v.value)&&void 0!==_?_:"";if(!b&&!h||!f.value||""===f.value||y)return;l&&(l.value="");const g=b&&""!==b?b:null!=h?h:"";d(f.value,g)}));const u=e.fields?e.fields.cf_ptr_unidade:null,c=e.fields?e.fields.cf_ptr_ano:null;u&&u.value&&""!==u.value&&c&&c.value&&""!==c.value&&d(u.value,c.value)}}))}function l(e,t){t((t=>{const n=document.querySelector("input[name=cf_ptr_cursodaunidade]"),o=document.querySelector("input[name=cf_ptr_segmento]"),l=document.querySelector("input[name=cf_ptr_unidade]");if(n){const i=t.querySelector(`label[for="${n.id}"]`);n.style.opacity="0",n.style.width="0",n.style.height="0",n.insertAdjacentHTML("afterend",`<seb-autocomplete\n            id="select_field_course"\n            style="--seb-primary-color: ${e.primaryColor||"black"}"\n            class="field"\n            select="true"\n            label="${null==i?void 0:i.textContent}"\n            options='[]'\n            name="${null==n?void 0:n.name}"\n            required="${null==n?void 0:n.required}"\n            noResultsText="Nenhum resultado encontrado"\n            value=""\n          />`);const a=async(n,i)=>{var a,r,s,d,u,c,v,_,p,f,m,y,h,b,g,S,q;const $=document.querySelector("seb-autocomplete[id=select_field_course]");if(!$)return;const E=null===(a=t.querySelector("input[name=cf_ptr_anoletivo]"))||void 0===a?void 0:a.value,C=null!==(u=null!==(d=null===(s=null===(r=e.fields)||void 0===r?void 0:r.cf_ptr_segmento)||void 0===s?void 0:s.yearSelected)&&void 0!==d?d:E)&&void 0!==u?u:null===(v=null===(c=e.fields)||void 0===c?void 0:c.cf_ptr_anoletivo)||void 0===v?void 0:v.value,A=null!==(m=null!==(f=null!=n?n:null===(p=null===(_=e.fields)||void 0===_?void 0:_.cf_ptr_segmento)||void 0===p?void 0:p.selectedSegment)&&void 0!==f?f:null==o?void 0:o.value)&&void 0!==m?m:null===(h=null===(y=e.fields)||void 0===y?void 0:y.cf_ptr_anoletivo)||void 0===h?void 0:h.value,x=null!==(b=null!=i?i:null==l?void 0:l.value)&&void 0!==b?b:null===(S=null===(g=e.fields)||void 0===g?void 0:g.cf_ptr_unidade)||void 0===S?void 0:S.value;if(""===A||!C||!x){const e={text:"Nenhuma Unidade, Segmento ou Ano Letivo Selecionado",value:""};return void $.setAttribute("options",JSON.stringify([e]))}t.appendChild(document.createElement("seb-loading")),$.setAttribute("options","[]"),$.setAttribute("value","");const w={unitCrm:x,segmentUid:A,schoolYear:C,env:e.env,key:e.apiKey};await async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/unit/${e.unitCrm}/segment/${e.segmentUid}/school-year/${e.schoolYear}/unit-courses/regular/all?code=${e.key}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()),alert)}(w).then((e=>{if($.innerHTML="",0===e.data.length){const e=$.querySelector('option[value=""]');e&&(e.textContent="Não foram encontrados segmentos")}else{let t=[];e.data.forEach((e=>{t=t.concat({text:e.unitCourseName,value:e.unitCourseId})})),$.setAttribute("options",JSON.stringify(t))}})),null===(q=t.querySelector("seb-loading"))||void 0===q||q.remove()},r=document.querySelector("seb-autocomplete[id=select_field_course]");r&&(r.addEventListener("change",(async e=>{var t;n.value=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value})),r.addEventListener("input",(async e=>{var t;n.value=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value}))),o&&o.addEventListener("change",(async e=>{null==n||n.setAttribute("value",""),r&&(r.setAttribute("value",""),r.setAttribute("searchParam","")),a(e.target.value,null)})),l&&(null==l||l.addEventListener("change",(async e=>{null==n||(n.value=""),a(null,e.target.value)})))}}))}function i(e,t){t((t=>{const n=t.querySelector("input[name=cf_ptr_fonte]");if(n){const o=t.querySelector(`label[for="${n.id}"]`);n.style.opacity="0",n.style.width="0",n.style.height="0",o&&(o.style.height="0",o.style.width="0"),n.insertAdjacentHTML("afterend",`<seb-autocomplete\n          id="select_field_source"\n          style="--seb-primary-color: ${e.primaryColor||"black"}"\n          class="field"\n          select="true"\n          name="${null==n?void 0:n.name}"\n          required="${null==n?void 0:n.required}"\n          label="${null==o?void 0:o.textContent}"\n          options='[]'\n          noResultsText="Nenhum resultado encontrado"\n          value=""\n        />`);const l=t.querySelector('seb-autocomplete[id="select_field_source"]');if(l){l.addEventListener("input",(()=>{n.value=l.value})),l.addEventListener("change",(()=>{n.value=l.value}));const t=e=>["a71e07dd-68e6-ec11-bb3c-000d3a88700f","b95eb65d-69e6-ec11-bb3c-000d3a88700f"].includes(e);(async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/sources/Agendamento?code=${e.key}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()),alert)})({key:e.apiKey,env:e.env}).then((e=>{if(l.innerHTML="",0===e.data.length){const e=l.querySelector('option[value=""]');e&&(e.textContent="Não foram encontradas fontes")}else{let n=[];e.data.forEach((e=>{t(e.sourceId)||(n=n.concat({text:e.sourceName,value:e.sourceId}))})),l.setAttribute("options",JSON.stringify(n))}}))}}}))}async function a(e,t,n){var o,l;null===(l=null===(o=t.shadowRoot)||void 0===o?void 0:o.querySelector("div"))||void 0===l||l.appendChild(document.createElement("seb-loading-input"));(async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/state/${e.stateUid}/cities/all?searchName=${e.searchParam?`${e.searchParam}`:""}&code=${e.key}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()),alert)})({stateUid:e,env:n.env,key:n.apiKey,searchParam:""}).then((e=>{var n,o,l;const i=t;if(i.innerHTML="",0===e.data.length){const e=i.querySelector('option[value=""]');e&&(e.textContent="Não foram encontradas cidades")}else{let n=[];e.data.forEach((e=>{n=n.concat({text:e.cityName,value:e.cityId})})),i.value="",i._handleClear.call(i),i.setAttribute("options",JSON.stringify(n)),t.removeAttribute("disabled")}const a=document.querySelector('seb-autocomplete[id="select_field_schoolorigin"]');a&&(a.innerHTML="",a.value="",a._handleClear.call(a),a.setAttribute("options","[]"),a.setAttribute("disabled","true")),null===(l=null===(o=null===(n=i.shadowRoot)||void 0===n?void 0:n.querySelector("div"))||void 0===o?void 0:o.querySelector("seb-loading-input"))||void 0===l||l.remove()}))}async function r(e,t){var n,o;const l=e;null===(o=null===(n=e.shadowRoot)||void 0===n?void 0:n.querySelector("div"))||void 0===o||o.appendChild(document.createElement("seb-loading-input"));(async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/states/all?code=${e.key}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()),alert)})({env:t.env,key:t.apiKey}).then((e=>{var t,n,o;if(l.innerHTML="",0===e.data.length){const e=l.querySelector('option[value=""]');e&&(e.textContent="Não foram encontrados estados")}else{let t=[];e.data.forEach((e=>{t=t.concat({text:e.stateName,value:e.stateId})})),l.value="",l._handleClear.call(l),l.setAttribute("options",JSON.stringify(t));const n=document.querySelector('input[name="cf_ptr_estadoorigem"]');n&&n.value&&l.setAttribute("value",n.value)}null===(o=null===(n=null===(t=l.shadowRoot)||void 0===t?void 0:t.querySelector("div"))||void 0===n?void 0:n.querySelector("seb-loading-input"))||void 0===o||o.remove()}))}async function s(e,t,n){var o,l;const i=t;null===(l=null===(o=i.shadowRoot)||void 0===o?void 0:o.querySelector("div"))||void 0===l||l.appendChild(document.createElement("seb-loading-input"));(async function(e){return fetch(`https://${e.env?`${e.env}.`:""}rdstation.seb.com.br/api/crm/originschools/city/${e.city}?searchName=${e.searchParam?`${e.searchParam}`:""}&code=${e.key}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json()),alert)})({city:e,env:n.env,searchParam:"",key:n.apiKey}).then((e=>{var t,n,o;if(i.innerHTML="",0===e.data.length){const e=i.querySelector('option[value=""]');e&&(e.textContent="Não foram encontradas cidades")}else{let t=[];e.data.forEach((e=>{t=t.concat({text:e.originSchoolName,value:e.originSchoolId})})),i.value="",i._handleClear.call(i),i.setAttribute("options",JSON.stringify(t)),i.removeAttribute("disabled")}null===(o=null===(n=null===(t=i.shadowRoot)||void 0===t?void 0:t.querySelector("div"))||void 0===n?void 0:n.querySelector("seb-loading-input"))||void 0===o||o.remove()}))}function d(e){let t,n=e.toString();if(null==n)return!1;if(n=n.replace(/[\s.-]*/gim,""),!n||11!==n.length||"00000000000"===n||"11111111111"===n||"22222222222"===n||"33333333333"===n||"44444444444"===n||"55555555555"===n||"66666666666"===n||"77777777777"===n||"88888888888"===n||"99999999999"===n)return!1;let o,l=0;for(t=1;t<=9;t+=1)l+=parseInt(n.substring(t-1,t),10)*(11-t);if(o=10*l%11,10!==o&&11!==o||(o=0),o!==parseInt(n.substring(9,10),10))return!1;for(l=0,t=1;t<=10;t+=1)l+=parseInt(n.substring(t-1,t),10)*(12-t);return o=10*l%11,10!==o&&11!==o||(o=0),o===parseInt(n.substring(10,11),10)}function u(e){let t,n,o,l,i,a,r,s=e;if(0===s.length)return!1;for(s=s.replace(/\D+/g,""),r=1,o=0;o<s.length-1;o+=1)if(s.charAt(o)!==s.charAt(o+1)){r=0;break}if(r)return!1;a=s.length-2,t=s.substring(0,a);const d=s.substring(a);for(n=0,i=a-7,o=a;o>=1;o-=1)n+=t.charAt(a-o)*(i-1),i<2&&(i=9);if(l=n%11<2?0:11-n%11,l!==d.charAt(0))return!1;for(a+=1,t=s.substring(0,a),n=0,i=a-7,o=a;o>=1;o-=1)n+=t.charAt(a-o)*(i-1),i<2&&(i=9);return l=n%11<2?0:11-n%11,l===d.charAt(1)}function c(e,t,n){n((n=>{const o=n.querySelector(`input[name="${e}"]`);o&&(o.style.border=t?"1px solid #2e9e46":"1px solid #f00")}))}function v(e,t){let n=!1;return t((o=>{var l,i;const a=o.querySelector(`input[name="${e}"]`),r=o.querySelector(`seb-textfield[name="${e}"]`);a&&((null==a?void 0:a.value)&&(d(a.value)||u(a.value)?(c(e,!0,t),null==a||a.setAttribute("isValid","true"),null==a||a.setCustomValidity(""),n=!0):(c(e,!1,t),null==a||a.setAttribute("isValid","false"),null===(i=null===(l=null==r?void 0:r.shadowRoot)||void 0===l?void 0:l.querySelector("input"))||void 0===i||i.setAttribute("style","border-color:#f00"),null==r||r.addEventListener("input",(()=>{var e,t;null===(t=null===(e=r.shadowRoot)||void 0===e?void 0:e.querySelector("input"))||void 0===t||t.setAttribute("style","border-color:#e5e7eb")})),null==a||a.setCustomValidity("CPF/CNPJ inválido"))),null==a||a.reportValidity())})),n}function _(e,t){let n=!1;return t((o=>{var l,i;const a=o.querySelector(`input[name="${e}"]`),r=o.querySelector(`seb-textfield[name="${e}"]`);a&&((null==a?void 0:a.value)&&(d(a.value)?(c(e,!0,t),null==a||a.setAttribute("isValid","true"),null==a||a.setCustomValidity(""),n=!0):(c(e,!1,t),null==a||a.setAttribute("isValid","false"),null===(i=null===(l=null==r?void 0:r.shadowRoot)||void 0===l?void 0:l.querySelector("input"))||void 0===i||i.setAttribute("style","border-color:#f00"),null==r||r.addEventListener("input",(()=>{var e,t;null===(t=null===(e=r.shadowRoot)||void 0===e?void 0:e.querySelector("input"))||void 0===t||t.setAttribute("style","border-color:#e5e7eb")})),null==a||a.setCustomValidity("CPF inválido"))),null==a||a.reportValidity())})),n}function p(e,t){(null==e?void 0:e.stylized)&&t((n=>{const o=n.querySelectorAll("button");o&&o.forEach((o=>{o.setAttribute("style","display: none; visibility: hidden;"),o.insertAdjacentHTML("afterend",`\n              <seb-button\n                type=${o.type}\n                style="--seb-primary-color: ${e.primaryColor||"#6366F1"}; --seb-text-color: white"\n              >\n                ${o.textContent}\n              </seb-button>\n            `);const l=n.querySelector("seb-button");o.parentNode.classList.value.includes("submit")&&l?l.addEventListener("click",(l=>{var i;l.preventDefault();const a=n.querySelectorAll("input[name=cf_ptr_agenda]"),r=null===(i=a[0])||void 0===i?void 0:i.parentElement,s=r?window.getComputedStyle(r):null;let d=!0;if(e.fields&&Object.keys(e.fields).forEach((n=>{const o=e.fields[n];o&&("cpf"===o.type?d=_(n,t):"cpf/cnpj"===o.type&&(d=v(n,t)))})),a&&s&&"none"!==s.display&&"hidden"!==s.visibility&&"0"!==s.opacity&&(d=function(e,t,n){let o=!1;return t((l=>{const i=l.querySelector(`input[name="${e}"]`);i&&((null==i?void 0:i.value)&&""!==i.value?(c(e,!0,t),null==i||i.setAttribute("isValid","true"),null==i||i.setCustomValidity(""),o=!0):(c(e,!1,t),null==i||i.setAttribute("isValid","false"),null==i||i.setCustomValidity(`O campo ${null!=n?n:e} é obrigatório`)),i===document.activeElement&&(null==i||i.reportValidity()),"cf_ptr_agenda"===e&&""===i.value&&alert("Por favor, selecione uma data e um horário para agendar sua visita."))})),o}("cf_ptr_agenda",t)),function(e){e((e=>{e.querySelectorAll("seb-autocomplete, seb-textfield").forEach((t=>{var n,o,l,i,a,r,s;const d=window.getComputedStyle(t),u=t,c="0"!==d.opacity&&"hidden"!==d.visibility&&"none"!==d.display,v=null===(n=e.querySelector(`input[name="${u.name}"]`))||void 0===n?void 0:n.required;c&&!u.value&&v&&("SEB-TEXTFIELD"===u.tagName?null===(l=null===(o=u.shadowRoot)||void 0===o?void 0:o.querySelector("input"))||void 0===l||l.setAttribute("style","border-color:#f00"):"SEB-AUTOCOMPLETE"===u.tagName?null===(s=null===(r=null===(a=null===(i=u.shadowRoot)||void 0===i?void 0:i.querySelector("seb-textfield"))||void 0===a?void 0:a.shadowRoot)||void 0===r?void 0:r.querySelector("input"))||void 0===s||s.setAttribute("style","border-color:#f00"):u.style.borderColor="#f00",u.addEventListener("input",(()=>{var e,t,n,o,l,i;"SEB-TEXTFIELD"===u.tagName?null===(t=null===(e=u.shadowRoot)||void 0===e?void 0:e.querySelector("input"))||void 0===t||t.setAttribute("style","border-color:#e5e7eb"):"SEB-AUTOCOMPLETE"===u.tagName&&(null===(i=null===(l=null===(o=null===(n=u.shadowRoot)||void 0===n?void 0:n.querySelector("seb-textfield"))||void 0===o?void 0:o.shadowRoot)||void 0===l?void 0:l.querySelector("input"))||void 0===i||i.setAttribute("style","border-color:#e5e7eb"))})),u.addEventListener("change",(()=>{var e,t,n,o,l,i;"SEB-TEXTFIELD"===u.tagName?null===(t=null===(e=u.shadowRoot)||void 0===e?void 0:e.querySelector("input"))||void 0===t||t.setAttribute("style","border-color:#e5e7eb"):"SEB-AUTOCOMPLETE"===u.tagName&&(null===(i=null===(l=null===(o=null===(n=u.shadowRoot)||void 0===n?void 0:n.querySelector("seb-textfield"))||void 0===o?void 0:o.shadowRoot)||void 0===l?void 0:l.querySelector("input"))||void 0===i||i.setAttribute("style","border-color:#e5e7eb"))})))}))}))}(t),d){n.style.scrollMarginTop="200px",n.scrollIntoView({behavior:"smooth",block:"start"});const e="TouchEvent"in window?new TouchEvent("touchend",{bubbles:!0,cancelable:!0,view:window}):new PointerEvent("touchend",{bubbles:!1,cancelable:!0,view:window});o.dispatchEvent(e),o.click()}})):l&&l.addEventListener("click",(e=>{e.preventDefault();const t="TouchEvent"in window?new TouchEvent("touchend",{bubbles:!0,cancelable:!0,view:window}):new PointerEvent("touchend",{bubbles:!1,cancelable:!0,view:window});o.dispatchEvent(t),o.click()}))}))}))}class f{constructor(t){this.__forms=[],this.__options={primaryColor:"#2e9e46",apiKey:e.apiKey,env:e.env,stylized:!0,customButton:!0,clearForm:!0,fields:{cf_ptr_anoletivo:{options:{"f17b1920-4fd2-ed11-a7c7-000d3a88ffc8":"2024","203a4626-4fd2-ed11-a7c7-000d3a88ffc8":"2025"}},cf_ptr_cpfdoresponsavel:{label:"CPF do Responsável *",type:"cpf"},cf_ptr_datadenascimentoaluno:{mask:"00/00/0000",type:"date",min:"1900-01-01"},cf_ptr_nascimentoresponsavel:{mask:"00/00/0000",hide:!1,type:"date",hideOnLoad:!0,min:"1900-01-01"},cf_ptr_tipodelead:{value:"956840000",hide:!0},cf_ptr_estadoorigem:{transformInputInSelect:!0},cf_ptr_cidadeorigem:{transformInputInSelect:!0},cf_ptr_escolaorigem:{transformInputInSelect:!0},cf_seb_tipo_agenda:{value:"284360000",hide:!0},cf_ptr_origem:{value:"956840000",hide:!0},cf_ptr_ano:{value:"f17b1920-4fd2-ed11-a7c7-000d3a88ffc8",hide:!0},cf_ptr_proximatarefa:{value:"775d2310-437b-e811-a95f-000d3ac09449",hide:!0},email:{label:"Seu e-mail *"},cf_ptr_nomedoaluno:{label:"Nome do Aluno *",regex:"^[A-zÀ-ú\\s]*$"},cf_ptr_nomedoresponsavel:{regex:"^[A-zÀ-ú\\s]*$"},cf_ptr_unidade:{options:{"5e1e6f5e-e27a-e811-a95f-000d3ac09449":"Continente","601e6f5e-e27a-e811-a95f-000d3ac09449":"Ensino Médio Centro","621e6f5e-e27a-e811-a95f-000d3ac09449":"Pré-Vestibular Centro"}},cf_ptr_identificacao:{options:{95684e4:"Responsável por um aluno",956840001:"Sou Aluno e sou responsável por mim mesmo"},optionsLabels:{95684e4:{cf_ptr_nomedoresponsavel:"Nome completo do responsável",cf_ptr_cpfdoresponsavel:"CPF do responsável",email:"E-mail do responsável",cf_ptr_telefonecelular:"Celular do responsável",cf_ptr_nomedoaluno:"Nome completo do aluno",cf_ptr_datadenascimentoaluno:"Data de nascimento do aluno"},956840001:{cf_ptr_nomedoresponsavel:"Seu nome completo",cf_ptr_cpfdoresponsavel:"Seu CPF",email:"Seu e-mail",cf_ptr_telefonecelular:"Seu celular",cf_ptr_nascimentoresponsavel:"Sua data de nascimento"}},type:"radio",stylized:!0,hide:!1,value:"956840000"},cf_tipo_formulario_hidden:{hide:!0,value:"Agendamento"},cf_ptr_dataagenda:{stylized:!0},cf_ptr_horaagenda:{stylized:!0},cf_ptr_integracao:{hide:!0},cf_ptr_errointegracao:{hide:!0},cf_ptr_cursodaunidade:{stylized:!1},cf_ptr_segmento:{},cf_ptr_telefonecelular:{},cf_ptr_telefonealuno:{},cf_ptr_agenda:{stylized:!1,styledType:"default"},cf_ptr_evento:{},cf_ptr_fonte:{transformInputInSelect:!0},cf_ptr_amigoindicado:{},cf_ptr_emaildoamigoindicado:{},cf_id_pre_agendamento:{stylized:!0,hide:!1}}},window.addEventListener("DOMContentLoaded",(()=>{this.__options={...this.__options,...t,fields:{...this.__options.fields,...null==t?void 0:t.fields}},this.__forms=Array.from(document.querySelectorAll("form")),this.__clear_form(),this.__init_field_cf_ptr_custom_radio(),this.__init_fields(),this.__init_field_cf_ptr_agenda(),this.__init_field_cf_ptr_evento(),this.__init_field_cf_ptr_cursodaunidade(),this.__init_field_cf_ptr_fonte(),this.__init_field_cf_ptr_estadoorigem(),this.__init_field_cf_ptr_cidadeorigem(),this.__init_field_cf_ptr_escolaorigem(),this.__options.customButton&&this.__init_buttons(),this.__init_field_cf_id_pre_agendamento()}))}static init(e){return new f(e)}__clear_form(){var e;if(!(null===(e=this.__options)||void 0===e?void 0:e.clearForm))return;document.querySelectorAll("form").forEach((e=>{e.reset()}))}__init_field_cf_ptr_custom_radio(){!function(e){var t,n,o,l,i,a;const r=document.createElement("seb-radio-group"),s=null===(t=e.fields)||void 0===t?void 0:t.cf_ptr_identificacao;if(s){const t=Object.keys(null!==(n=s.options)&&void 0!==n?n:{}).map((t=>{var n,o,l,i;return{text:null!==(i=null===(l=null===(o=null===(n=e.fields)||void 0===n?void 0:n.cf_ptr_identificacao)||void 0===o?void 0:o.options)||void 0===l?void 0:l[t])&&void 0!==i?i:"",value:t}}));s.optionsLabels||(s.optionsLabels={95684e4:{cf_ptr_nomedoresponsavel:"Nome completo do responsável",cf_ptr_cpfdoresponsavel:"CPF do responsável",email:"E-mail do responsável",cf_ptr_telefonecelular:"Celular do responsável",cf_ptr_nomedoaluno:"Nome completo do aluno",cf_ptr_datadenascimentoaluno:"Data de nascimento do aluno"},956840001:{cf_ptr_nomedoresponsavel:"Seu nome completo",cf_ptr_cpfdoresponsavel:"Seu CPF",email:"Seu e-mail",cf_ptr_telefonecelular:"Seu celular",cf_ptr_nascimentoresponsavel:"Sua data de nascimento"}}),r.setAttribute("options",JSON.stringify(t)),r.setAttribute("name","cf_ptr_identificacao"),r.setAttribute("value",null!==(o=s.value)&&void 0!==o?o:""),r.setAttribute("stylized",null!==(i=null===(l=s.stylized)||void 0===l?void 0:l.toString())&&void 0!==i?i:"true"),r.setAttribute("type",null!==(a=s.type)&&void 0!==a?a:"radio"),r.setAttribute("optionsLabels",JSON.stringify(s.optionsLabels)),r.setAttribute("style",`--seb-primary-color: ${e.primaryColor||"#49b9cf"}`),document.querySelectorAll('input[name="cf_ptr_identificacao"]').forEach((e=>{const t=e;t.style.display="none",t.style.position="absolute",t.style.width="0",t.style.height="0";const n=t.parentNode;n instanceof HTMLElement&&(t.style.display="none",n.style.width="0",n.style.height="0",n.style.position="absolute");const o=null==n?void 0:n.parentNode;o instanceof HTMLElement&&o.className.includes("option")&&(o.style.display="none",o.style.width="0",o.style.height="0",o.style.position="absolute")}));const d=document.querySelector('.bricks-form__field[data-step="1"]');d&&(d.classList.add("custom-form-field-radio"),d.appendChild(r),d.querySelectorAll("label").forEach((e=>{const t=e;t.style.top="0",t.style.width="unset",t.style.height="unset"})))}}(this.__options)}__init_buttons(){p(this.__options,this.__for_each_form.bind(this))}__is_field_valid_cpf_to_submit(e){return _(e,this.__for_each_form.bind(this))}__is_field_valid_cpf_cnpj_to_submit(e){return v(e,this.__for_each_form.bind(this))}__init_field_cf_ptr_evento(){o(this.__options,this.__for_each_form.bind(this),f.__handleRedirect,f.__removeInputInvisibility)}__init_field_cf_ptr_cursodaunidade(){l(this.__options,this.__for_each_form.bind(this))}__init_field_cf_ptr_estadoorigem(){var e;e=this.__options,this.__for_each_form.bind(this)((t=>{var n,o;const l=t.querySelector("input[name=cf_ptr_estadoorigem]");if(l){const i=t.querySelector(`label[for="${l.id}"]`);l.style.opacity="0",l.style.width="0",l.style.height="0",i&&(i.style.height="0",i.style.width="0"),l.insertAdjacentHTML("afterend",`<seb-autocomplete\n            id="select_field_state"\n            style="--seb-primary-color: ${e.primaryColor||"black"}"\n            class="field"\n            select="true"\n            name="${null==l?void 0:l.name}"\n            required="${null==l?void 0:l.required}"\n            label="${null==i?void 0:i.textContent}"\n            options='[]'\n            noResultsText="Nenhum resultado encontrado"\n            value=""\n          />`);const s=t.querySelector('seb-autocomplete[id="select_field_state"]'),d=t.querySelector("input[name=cf_ptr_cidadeorigem]"),u=t.querySelector("input[name=cf_ptr_escolaorigem]");if(s){const i=async()=>{const n=t.querySelector('seb-autocomplete[id="select_field_city"]');if(n){const t=Array.isArray(s.options)&&s.options.find((e=>e.value===s.value)).value;n&&await a(t,n,e)}};s.addEventListener("input",(()=>{i(),l.value=s.value,d&&(d.value=""),u&&(u.value="")})),s.addEventListener("change",(()=>{i(),l.value=s.value})),null===(o=null===(n=s.shadowRoot)||void 0===n?void 0:n.querySelector("div"))||void 0===o||o.appendChild(document.createElement("seb-loading-input")),r(s,e)}}}))}__init_field_cf_ptr_cidadeorigem(){!async function(e,t){t((t=>{var n,o,l,i;const r=t.querySelector("input[name=cf_ptr_cidadeorigem]");if(r){const d=t.querySelector(`label[for="${r.id}"]`);d&&(d.style.height="0",d.style.width="0"),r.insertAdjacentHTML("afterend",`<seb-autocomplete\n            id="select_field_city"\n            style="--seb-primary-color: ${e.primaryColor||"black"}"\n            class="field"\n            select="true"\n            name="${null==r?void 0:r.name}"\n            required="${null==r?void 0:r.required}"\n            label="${null==d?void 0:d.textContent}"\n            options='[]'\n            disabled="true"\n            noResultsText="Nenhum resultado encontrado"\n            value=""\n          />`);const u=t.querySelector('seb-autocomplete[id="select_field_city"]'),c=t.querySelector("input[name=cf_ptr_escolaorigem]");if(u){const d=async()=>{const n=t.querySelector('seb-autocomplete[id="select_field_schoolorigin"]');if(n){const t=Array.isArray(u.options)&&u.options.find((e=>e.value===u.value)).value;n&&await s(t,n,e)}};u.addEventListener("input",(()=>{d(),r.value=u.value,c&&(c.value="")})),u.addEventListener("change",(()=>{d(),r.value=u.value})),(null===(o=null===(n=e.fields)||void 0===n?void 0:n.cf_ptr_estadoorigem)||void 0===o?void 0:o.value)&&a(null===(i=null===(l=e.fields)||void 0===l?void 0:l.cf_ptr_estadoorigem)||void 0===i?void 0:i.value,u,e)}}}))}(this.__options,this.__for_each_form.bind(this))}__init_field_cf_ptr_escolaorigem(){!async function(e,t){t((t=>{var n,o,l,i;const a=t.querySelector("input[name=cf_ptr_escolaorigem]");if(a){const r=t.querySelector(`label[for="${a.id}"]`);r&&(r.style.height="0",r.style.width="0"),a.insertAdjacentHTML("afterend",`<seb-autocomplete\n            id="select_field_schoolorigin"\n            style="--seb-primary-color: ${e.primaryColor||"black"}"\n            class="field"\n            select="true"\n            name="${null==a?void 0:a.name}"\n            required="${null==a?void 0:a.required}"\n            label="${null==r?void 0:r.textContent}"\n            options='[]'\n            disabled="true"\n            noResultsText="Nenhum resultado encontrado"\n            value=""\n          />`);const d=t.querySelector('seb-autocomplete[id="select_field_schoolorigin"]');d&&(d.addEventListener("input",(()=>{a.value=d.value})),d.addEventListener("change",(()=>{a.value=d.value})),null===(o=null===(n=e.fields)||void 0===n?void 0:n.cf_ptr_cidadeorigem)||void 0===o?void 0:o.value)&&s(null===(i=null===(l=e.fields)||void 0===l?void 0:l.cf_ptr_cidadeorigem)||void 0===i?void 0:i.value,d,e)}}))}(this.__options,this.__for_each_form.bind(this))}__init_field_cf_ptr_fonte(){i(this.__options,this.__for_each_form.bind(this))}static __handleRedirect(e,t,n){var o;const l=t&&""!==t?t:"O agendamento de visitas desta unidade é realizado pelo site da própria unidade. Clique no botão abaixo para prosseguir.";document.querySelectorAll("form").forEach((e=>{const t=e.querySelectorAll("input, textarea, select, seb-textfield, seb-autocomplete, seb-button, .phone-input-group, .bricks-form__field__option, .bricks-form__label");let o=!0;t.forEach((e=>{e.name===n&&(o=!1),o||e.name===n||(e.style.visibility="hidden")}))}));const i=document.querySelector("seb-message");i&&i.remove();const a=document.querySelector(`seb-autocomplete[name="${n}"]`)||document.querySelector(`input[name="${n}"]`);null===(o=null==a?void 0:a.parentElement)||void 0===o||o.insertAdjacentHTML("afterend",`<seb-message message="${l}" ${e&&`redirectLink=${e}`}></seb-message>`)}__init_fields(){this.__options.fields&&Object.keys(this.__options.fields).forEach((e=>{const t=this.__options.fields[e];t&&(t.value&&this.__set_field_value(e,t.value),t.label&&this.__set_field_label(e,t.label),t.options&&this.__replace_select_option_label(e,t.options),"date"===t.type&&t.min&&this.__set_field_min_date(e,t.min),this.__options.stylized&&this.__stylize_form(e),"cpf"===t.type?(this.__is_field_valid_cpf(e),this.__init_field_mask(e,"000.000.000-00")):"cpf/cnpj"===t.type?(this.__is_field_valid_cpf_cnpj(e),this.__set_field_mask_cpf_cnpj(e)):t.mask&&this.__init_field_mask(e,t.mask),t.hideOnLoad&&this.__set_field_hide_on_step(e),t.hide&&this.__set_field_hide(e),t.regex&&this.__set_field_regex(e,t.regex))}))}__set_field_min_date(e,t){!function(e,t,n){n((o=>{const l=o.querySelector(`input[name="${e}"]`);l&&l.addEventListener("input",(()=>{let o=l.value;l.value.length>10&&(o=l.value.slice(0,10));const i=new Date,a=new Date(t),[r,s,d]=o.split("/"),u=new Date(`${d}-${s}-${r}T03:24:00`);o.length>=10&&(u<i&&u>a?(c(e,!0,n),null==l||l.setCustomValidity(""),null==l||l.reportValidity()):(c(e,!1,n),null==l||l.setCustomValidity("Data inválida"),null==l||l.reportValidity(),l.value=""))}))}))}(e,t,this.__for_each_form.bind(this))}__set_field_mask_cpf_cnpj(e){this.__for_each_form((t=>{const n=t.querySelector(`input[name="${e}"]`);if(n){const e=$(n),t=(t,n,o,l)=>{const i=["000.000.000-000","00.000.000/0000-00"];e.mask(t.length>14?i[1]:i[0],l)};e.length>11?e.mask("00.000.000/0000-00",{onKeyPress:t}):e.mask("000.000.000-00#",{onKeyPress:t})}}))}__is_field_valid_cpf_cnpj(e){!function(e,t){t((n=>{const o=n.querySelector(`input[name="${e}"]`);o&&o.addEventListener("input",(()=>{(null==o?void 0:o.value)&&(d(o.value)||u(o.value)?(c(e,!1,t),null==o||o.setAttribute("isValid","true"),null==o||o.setCustomValidity("")):(c(e,!1,t),null==o||o.setAttribute("isValid","false"),null==o||o.setCustomValidity("CPF/CNPJ inválido"))),o===document.activeElement&&(null==o||o.reportValidity())}))}))}(e,this.__for_each_form.bind(this))}__set_field_regex(e,t){!function(e,t,n){n((o=>{const l=o.querySelector(`input[name="${e}"]`);l&&(l.addEventListener("input",(()=>{(null==l?void 0:l.value)&&(new RegExp(t).test(l.value)?(c(e,!0,n),null==l||l.setAttribute("isValid","true"),null==l||l.setCustomValidity("")):(c(e,!1,n),null==l||l.setAttribute("isValid","false"),null==l||l.setCustomValidity("Campo inválido"))),l===document.activeElement&&(null==l||l.reportValidity())})),l.addEventListener("input",(e=>{const n=e.target.value.match(new RegExp(t,"g"));l.value.length>0&&!n?l.value=l.value.slice(0,-1):n&&(l.value=n.join(""))})))}))}(e,t,this.__for_each_form.bind(this))}__stylize_form(e){this.__for_each_form((t=>{var n,o,l,i,a,r,s,d,u,c,v,_,p,m,y,h,b,g;const S=t.querySelector(`input[name="${e}"]`),q=t.querySelector(`select[name="${e}"]`);if("cf_ptr_evento"!==e&&"cf_ptr_identificacao"!==e)if(S){if("hidden"===S.type)return;if(this.__options.fields&&Object.keys(this.__options.fields).includes(S.name)){if(!1===(null===(n=this.__options.fields[S.name])||void 0===n?void 0:n.stylized))return;if(null===(o=this.__options.fields[S.name])||void 0===o?void 0:o.hide)return}S.style.opacity="0",S.style.width="0",S.style.height="0",S.style.position="absolute",S.style.top="50px",S.style.left="50%";const e=t.querySelector(`label[for="${S.id}"]`);e&&(e.style.display="none",e.style.height="0",e.style.width="0");const{fields:_}=this.__options;if(_&&(null===(l=_[S.name])||void 0===l?void 0:l.transformInputInSelect)){const n=S.parentNode;n&&(null==n||n.setAttribute("style","position: relative;"));const o=null!==(a=null===(i=_[S.name])||void 0===i?void 0:i.options)&&void 0!==a?a:null;if(o){const t=Object.keys(o).map((e=>({text:null==o?void 0:o[e],value:e})));let n="O agendamento de visitas desta unidade é realizado pelo site da própria unidade. Clique no botão abaixo para prosseguir.";(null===(r=_[S.name])||void 0===r?void 0:r.redirectMessage)&&(n=_[S.name].redirectMessage||"O agendamento de visitas desta unidade é realizado pelo site da própria unidade. Clique no botão abaixo para prosseguir.");const l=null===(s=_[S.name])||void 0===s?void 0:s.redirectTo;if(l){S.addEventListener("change",(async e=>{var t,n,o;const l=(null===(t=_[S.name])||void 0===t?void 0:t.redirectMessage)||"",i=null===(n=_[S.name])||void 0===n?void 0:n.redirectTo,a=e.target,r=i?Object.keys(i).map((e=>({value:e,text:i[e]||""}))):[],s=r.length>0&&(null===(o=r.find((e=>e.value===a.value)))||void 0===o?void 0:o.text);s?f.__handleRedirect(s,l,"cf_ptr_unidade"):f.__removeInputInvisibility()}));const o=Object.keys(l).map((e=>({text:null==l?void 0:l[e],value:e})));S.insertAdjacentHTML("afterend",`\n            <seb-autocomplete\n              id="seb-${S.id}"\n              style="--seb-primary-color: ${this.__options.primaryColor||"black"}"\n              class="field"\n              select="true"\n              label="${null==e?void 0:e.textContent}"\n              name="${S.name}"\n              required="${S.required}"\n              redirectTo='${JSON.stringify(o)}'\n              redirectMessage="${n}"\n              options='${JSON.stringify(t)}'\n              noResultsText="Nenhum resultado encontrado"\n              value="${null!==(u=null===(d=_[S.name])||void 0===d?void 0:d.value)&&void 0!==u?u:""}"\n            />\n          `)}else S.insertAdjacentHTML("afterend",`\n                  <seb-autocomplete\n                    id="seb-${S.id}"\n                    style="--seb-primary-color: ${this.__options.primaryColor||"black"}"\n                    class="field"\n                    select="true"\n                    label="${null==e?void 0:e.textContent}"\n                    name="${S.name}"\n                    required="${S.required}"\n                    options='${JSON.stringify(t)}'\n                    noResultsText="Nenhum resultado encontrado"\n                    value="${null!==(v=null===(c=_[S.name])||void 0===c?void 0:c.value)&&void 0!==v?v:""}"\n                  />\n                `)}const l=t.querySelector(`seb-autocomplete[id="seb-${S.id}"]`);l&&(S.addEventListener("focus",(()=>{null==l||l.focus()})),S.addEventListener("change",(()=>{var e;null==l||(l.value=null===(e=null==l?void 0:l.options.find((e=>e.value===S.value)))||void 0===e?void 0:e.value)})),l.addEventListener("select",(e=>{var t;e.target.value&&(S.value=null===(t=e.target.__options.find((t=>t.value===e.target.value)))||void 0===t?void 0:t.value),S.dispatchEvent(new Event("change"))})))}else{S.insertAdjacentHTML("afterend",`\n          <seb-textfield\n            style="--seb-primary-color: ${this.__options.primaryColor||"black"}; ${"cf_ptr_telefonecelular"===S.name||"cf_ptr_telefonealuno"===S.name?"--seb-border-radius: 0px 8px 8px 0":""}"\n            name="${S.name}"\n            ${S.required?'required="required"':""}\n            id="seb-${S.id}"\n            class="field"\n            label="${null==e?void 0:e.textContent}"\n            value="${S.value}"\n          />\n        `);const n=t.querySelector(`seb-textfield[id="seb-${S.id}"]`);if(n){S.addEventListener("focus",(()=>{null==n||n.focus()})),n.addEventListener("input",(e=>{S.value=e.target.value,S.dispatchEvent(new Event("input")),S.dispatchEvent(new Event("keyup")),null==n||(n.value=S.value)}));const e=S.parentNode;e&&(null==e||e.setAttribute("style","position: relative;"),"cf_ptr_telefonecelular"===S.name&&(null==e||e.insertAdjacentHTML("afterbegin",`\n                    <style rel="stylesheet">\n                      #${t.id} .select2-container a.select2-choice {\n                        height: 55px !important;\n                        border-style: solid !important;\n                        border-width: 1px !important;\n                        border-color: #e5e7eb !important;\n                      }\n                      #${t.id} .select2-container .select2-choice>.select2-chosen {\n                        margin-top: 8px;\n                      }\n                    </style>\n                  `),S.addEventListener("change",(e=>{null==n||(n.value=e.target.value)}))))}}}else if(q){if("hidden"===q.type)return;if(this.__options.fields&&Object.keys(this.__options.fields).includes(q.name)){if(!1===(null===(_=this.__options.fields[q.name])||void 0===_?void 0:_.stylized))return;if(null===(p=this.__options.fields[q.name])||void 0===p?void 0:p.hide)return}q.style.opacity="0",q.style.width="0",q.style.height="0",q.style.position="absolute",q.style.top="50px",q.style.left="50%";const e=t.querySelector(`label[for="${q.id}"]`);e&&(e.style.display="none",e.style.height="0",e.style.width="0");const n=q.parentNode;n&&(null==n||n.setAttribute("style","position: relative;"));const o=Array.from(q.options).map((e=>({text:e.text,value:e.value})));q.insertAdjacentHTML("afterend",`\n          <seb-autocomplete\n            id="seb-${q.id}"\n            style="--seb-primary-color: ${this.__options.primaryColor||"black"}"\n            class="field"\n            select="true"\n            name="${q.name}"\n            label="${null==e?void 0:e.textContent}"\n            name="${q.name}"\n            required="${q.required}"\n            options='${JSON.stringify(o)}'\n            redirectMessage="${null===(h=null===(y=null===(m=this.__options)||void 0===m?void 0:m.fields)||void 0===y?void 0:y[q.name])||void 0===h?void 0:h.redirectMessage}"\n            noResultsText="Nenhum resultado encontrado"\n            value="${null!==(g=null===(b=Array.from(q.options).find((e=>e.value===q.value&&""!==q.value)))||void 0===b?void 0:b.text)&&void 0!==g?g:""}"\n          />\n        `);const l=t.querySelector(`seb-autocomplete[id="seb-${q.id}"]`);l&&(q.addEventListener("focus",(()=>{null==l||l.focus()})),q.addEventListener("change",(()=>{var e,t;null==l||(l.value=null!==(t=null===(e=Array.from(q.options).find((e=>e.value===q.value&&""!==q.value)))||void 0===e?void 0:e.text)&&void 0!==t?t:"")})),l.addEventListener("select",(e=>{if(e.target.value){const t=Array.from(q.options).find((t=>t.value===e.target.value));t&&(q.value=t.value)}else q.value=e.detail.value;q.dispatchEvent(new Event("change"))})))}}))}__init_field_cf_ptr_agenda(){n(this.__options,this.__for_each_form.bind(this))}__replace_select_option_label(e,t){this.__for_each_form((n=>{var o,l;const i=n.querySelector(`select[name="${e}"]`);if(i)for(let e=0;e<i.options.length;e+=1){const n=i.options[e];if(n){const e=null!==(l=null===(o=n.textContent)||void 0===o?void 0:o.trim())&&void 0!==l?l:"";Object.keys(t).includes(e)&&(n.textContent=t[e])}}}))}__init_field_mask(e,t){this.__for_each_form((n=>{const o=n.querySelector(`input[name="${e}"]`);o&&$(o).mask(t,{translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}})}))}__set_field_value(e,t){this.__for_each_form((n=>{const o=n.querySelector(`input[name="${e}"]`),l=n.querySelector(`select[name="${e}"]`);o?o.value=t:l&&(l.value=t)}))}__set_field_hide_on_step(e){this.__for_each_form((t=>{var n,o,l,i,a,r;const s=t.querySelector(`input[name="${e}"]`),d=t.querySelector(`select[name="${e}"]`);s?(null===(n=s.parentElement)||void 0===n||n.style.setProperty("visibility","hidden"),null===(o=s.parentElement)||void 0===o||o.style.setProperty("height","0"),null===(l=s.parentElement)||void 0===l||l.style.setProperty("margin-bottom","0")):d&&(null===(i=d.parentElement)||void 0===i||i.style.setProperty("visibility","hidden"),null===(a=d.parentElement)||void 0===a||a.style.setProperty("height","0"),null===(r=d.parentElement)||void 0===r||r.style.setProperty("margin-bottom","0"))}))}__set_field_hide(e){this.__for_each_form((t=>{var n,o,l;const i=t.querySelector(`input[name="${e}"]`),a=t.querySelector(`select[name="${e}"]`),r=null==i?void 0:i.parentNode;if(r&&"LABEL"===r.tagName){const e=null===(n=r.parentNode)||void 0===n?void 0:n.parentNode;if(e){const t=e.querySelector("label");t&&(t.style.height="0",t.style.width="0")}}i?null===(o=i.parentElement)||void 0===o||o.style.setProperty("display","none"):a&&(null===(l=a.parentElement)||void 0===l||l.style.setProperty("display","none"))}))}__set_field_label(e,t){this.__for_each_form((n=>{const o=n.querySelector(`input[name="${e}"]`);if(o){const e=o.id,l=n.querySelector(`label[for="${e}"]`);l&&(l.textContent=t)}}))}__is_field_valid_cpf(e){!function(e,t){t((n=>{const o=n.querySelector(`input[name="${e}"]`);o&&o.addEventListener("input",(()=>{(null==o?void 0:o.value)&&(d(o.value)?(c(e,!0,t),null==o||o.setAttribute("isValid","true"),null==o||o.setCustomValidity("")):(c(e,!1,t),null==o||o.setAttribute("isValid","false"))),14===o.value.length?null==o||o.reportValidity():null==o||o.setCustomValidity("")}))}))}(e,this.__for_each_form.bind(this))}__for_each_form(e){this.__forms.forEach(e)}__init_field_cf_id_pre_agendamento(){this.__for_each_form((e=>{const n=e.querySelector('input[name="cf_id_pre_agendamento"]'),o=e.querySelector('seb-textfield[name="cf_id_pre_agendamento"]'),l=t();n&&(n.value=l,n.style.display="none",o&&(o.value=n.value,o.style.display="none"))}))}}f.__removeInputInvisibility=()=>{const e=document.querySelector("body");if(!e)return;const t=e.querySelector("seb-message");t&&t.remove();document.querySelectorAll("form").forEach((e=>{e.querySelectorAll("input , textarea, select, seb-textfield, seb-autocomplete, seb-button, .phone-input-group, .bricks-form__field__option, .bricks-form__label").forEach((e=>{e.style.visibility=""}))}))},window.SebRdStationForm=f;
